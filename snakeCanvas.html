<html >
<head>
<meta charset="utf-8" />
</head>
<body>
<canvas id="snakeCanvas" height="1000px" width="1000px">
<script>
var canvas = document.getElementById('snakeCanvas');
var x=100;
var y=100;
var snake=new Array();
var snakeSize=15;
var speed={x:-snakeSize,y:0};
var currDirect=0;
var nextDirect=0;

var JR=0;//极坐标半径
var JX=0;//极坐标X偏移量
var JY=0;//极坐标Y偏移量
function init(){
    for(var i=0;i<6;i++){
        snake[i]={x:100+i*snakeSize,y:100}
    }
}
function draw() {
  canvas.getContext('2d').clearRect(0,0,1000,1000);
  if (canvas.getContext){
    var ctx = canvas.getContext('2d');
    for(var i=0;i<snake.length;i++){
        ctx.beginPath();
        ctx.lineTo(snake[i].x,snake[i].y)
        var radius = 15; // Arc radius
        var startAngle = 0; // Starting point on circle
        var endAngle = Math.PI*2; // End point on circle
        ctx.arc(snake[i].x, snake[i].y, radius, startAngle, endAngle);
        ctx.stroke();  
        
    }  
  }
}
function input(keyCode) {
        switch (keyCode) {
            case 87:
            case 38: //上边
                if(currDirect!=0&&currDirect!=1){
                    currDirect=0;
                    speed.x=0;
                    speed.y=-snakeSize;
                }
                break;
            case 83:
            case 40: //下的
                if(currDirect!=0&&currDirect!=1){
                    currDirect=1;
                    speed.x=0;
                    speed.y=snakeSize;
                }
                break;
            case 65:
            case 37: //左边
                if(currDirect!=2&&currDirect!=3){
                    currDirect=2;
                    speed.x=-snakeSize;
                    speed.y=0;
                }
                break;
            case 68:
            case 39: //右边
                if(currDirect!=2&&currDirect!=3){
                    currDirect=3;
                    speed.x=snakeSize;
                    speed.y=0;
                }
                break;
        }
    }
//上下移动时
//上：0～Pi/2 下：0～－Pi/2
function moveLeft(){

}
//上：
function moveRight(){

}
//左右移动时
function moveUp(){

}
function moveDown(){

}

function runSnake(){
    for(var i=snake.length-1;i>0;i--){
        snake[i].x=snake[i-1].x;
        snake[i].y=snake[i-1].y;
    }
    snake[0].x+=speed.x;
    snake[0].y+=speed.y;
}
document.onkeydown = function (event) {
    var event = event || window.event;
    input(event.keyCode);
};
function run(){
    draw();
    runSnake();

}
init();
setInterval(run,500);
</script>

</body>
</html>